{% extends "base.njk" %}

{% block contenido %}

  <div class="container">
    <div class="section">
      <div class="columns">
        <div class="column has-text-centered">
          <h1 class="title titlepage">JUEGOS DE SWITCH</h1><br>
        </div>
      </div>
      <div id="app" class="row columns is-multiline">
        {% for juego in juegos %}
          <div class="column is-4">
            <div class="card large">
              <div class="card-image">
                <figure class="image is-16by9">
                  <a href="/games/game/{{juego.id}}">
                    <img style="object-fit: cover;" src="/img/{{juego.img}}" alt="Image">
                  </a>
                </figure>
              </div>
              <div class="card-content">
                <div class="media">

                  <div class="media-content">
                    <p class="title is-4 no-padding">{{ juego.name }}</p>
                  </div>
                </div>
                <div class="content">
                  {{ juego.content }}
                  <div class="background-icon">
                    <span class="icon-twitter"></span></div>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}

        {% if juegos.length == 0 %}
          <div class="column is-12">
            <div class="notification is-danger">
              <button class="delete"></button>
              No se encontraron juegos.
            </div>
          </div>
        {% endif %}

        <!-- Pagination -->
        <div class="container">
        <div class="columns is-centered">
          {% if page > 1 %}
          <div class="column is-narrow">
            <a href="?page={{ page - 1 }}" class="button" {% if page <= 1 %}disabled{% endif %}>
              &larr; Anterior
            </a>
          </div>
          {% endif %}
            <div class="column is-narrow has-text-centered is-flex is-align-items-center">
            PÃ¡gina {{ page }} de {{ totalPaginas }}
            </div>
          {% if page < totalPaginas %}
          <div class="column is-narrow">
            <a href="?page={{ page + 1 }}" class="button" {% if page >= totalPaginas %}disabled{% endif %}>
              Siguiente &rarr;
            </a>
          </div>
          {% endif %}
        </div>
  </div>
        <!-- End Pagination -->



      </div>
    </div>
  </div>
{% endblock %}